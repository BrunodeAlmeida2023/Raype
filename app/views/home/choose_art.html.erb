<% content_for :body_class, "orange-bg" %>

<header class="home-header">
  <div class="home-header-left">
    <div class="home-header-logo">
      <svg width="50" height="50" viewBox="0 0 50 50" xmlns="http://www.w3.org/2000/svg">
        <circle cx="25" cy="25" r="23" fill="#ff6b00"/>
        <text x="25" y="35" font-family="Arial, sans-serif" font-size="30" font-weight="bold" fill="black" text-anchor="middle">R</text>
      </svg>
    </div>
    <h1>RAYPE</h1>
  </div>
  <nav class="home-nav">
    <%= link_to "Voltar", root_path, class: "home-nav-btn" %>
  </nav>
</header>

<div class="content-wrap">
  <section class="home-services">
    <h1 class="home-services-title">Escolha sua Arte</h1>

    <%= form_with url: post_choose_art_home_path, method: :post, multipart: true, class: "home-form-container choose-art-form", id: "choose-art-form" do |f| %>
      <div class="choose-art-layout">
        <div class="choose-art-left">
          <div class="home-form-group art-quantity-group">
            <%= f.label :art_quantity, "Quantas artes você tem?", class: "home-form-label art-quantity-label" %>
            <%= f.select :art_quantity,
                options_for_select([
                  ['Nenhuma (quero que criem para mim)', 0],
                  ['1 arte', 1],
                  ['2 artes', 2],
                  ['3 artes', 3]
                ], @outdoor&.art_quantity || 0),
                {},
                { class: "home-form-select art-quantity-select", id: "art_quantity" }
            %>
          </div>

          <div id="upload-fields-container" class="upload-fields-grid">
            <!-- Campos de upload serão inseridos dinamicamente via JS -->
          </div>
        </div>

        <div class="choose-art-right">
          <!-- Preview do Outdoor Triedo -->
          <div id="outdoor-preview-container" class="outdoor-preview-container" style="display: none;">
            <h3 class="preview-title">Prévia do seu Outdoor</h3>
            <div class="triedo-wrapper">
              <div id="triedo-display" class="triedo-display">
                <div class="triedo-placeholder">
                  <p>Faça upload das suas artes para visualizar</p>
                </div>
              </div>
              <div class="triedo-structure">
                <div class="triedo-pole"></div>
                <div class="triedo-base"></div>
              </div>
            </div>
            <p class="preview-hint">* As imagens rotacionam automaticamente simulando um outdoor triedo</p>
          </div>
        </div>

        <div class="home-form-actions choose-art-actions">
          <%= f.submit "Enviar Arte", class: "home-submit-btn" %>
        </div>
      </div>
    <% end %>
  </section>
</div>


